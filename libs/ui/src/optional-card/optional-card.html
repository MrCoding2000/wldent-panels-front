<section class="optional-cards-container">
  <header class="header-title flex justify-between items-center self-stretch mb-3">
    <h3 class="title">{{ headerTitle }}</h3>
    <button class="all-lists-button flex justify-center items-center gap-2">
      {{ i18n.translate('general.all-lists') }}
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path
          d="M10.4537 12L14.527 16.073C14.6653 16.2115 14.7362 16.3856 14.7395 16.5953C14.7427 16.8048 14.6718 16.982 14.527 17.127C14.382 17.2718 14.2063 17.3443 14 17.3443C13.7937 17.3443 13.618 17.2718 13.473 17.127L8.97875 12.6328C8.88525 12.5391 8.81925 12.4403 8.78075 12.3365C8.74225 12.2327 8.723 12.1205 8.723 12C8.723 11.8795 8.74225 11.7673 8.78075 11.6635C8.81925 11.5597 8.88525 11.4609 8.97875 11.3673L13.473 6.873C13.6115 6.73467 13.7856 6.66384 13.9952 6.6605C14.2047 6.65734 14.382 6.72817 14.527 6.873C14.6718 7.018 14.7442 7.19367 14.7442 7.4C14.7442 7.60634 14.6718 7.782 14.527 7.927L10.4537 12Z"
          fill="#0058CC"/>
      </svg>
    </button>
  </header>
  @if (isSliderCard) {
    <swiper-container
      class="optional-cards-container"
      slides-per-view="1"
      space-between="16"
      breakpoints='{"440": {"slidesPerView": 1}, "768": { "slidesPerView": 2 }, "1440": { "slidesPerView": 3 }}'>
      <ng-container *ngTemplateOutlet="sharedCardTemplate"></ng-container>
    </swiper-container>
  } @else {
    <section class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
      <ng-container *ngTemplateOutlet="sharedCardTemplate"></ng-container>
    </section>
  }
</section>

<!--Shared Template-->
<ng-template #sharedCardTemplate>
  @for (slide of optionalCardsSlideData; track slide) {
    <swiper-slide [ngClass]="isSliderCard ? 'slider-card': 'simple-card'">
      <section
        class="optional-card-container flex flex-col items-end">
        @if (hasHeader) {
          <header class="header-container flex items-center justify-end self-stretch">
            <img src="{{slide.adImage}}" alt="">
            <h3 class="title mx-2">{{ slide.productName }}</h3>
          </header>
        }
        <!--Info-->
        <section class="optional-card-info-container w-full my-4">
          <div class="optional-card-info-row-container flex justify-between items-center self-stretch">
            <small>{{ i18n.translate('optional-card.ad-code') }}</small>
            <b>{{ slide.adCode }}</b>
          </div>
          <div class="optional-card-info-row-container flex justify-between items-center self-stretch mt-2">
            <small>{{ i18n.translate('optional-card.ad-registration-date') }}</small>
            <small class="date">{{ slide.adDate }}</small>
          </div>
        </section>
        <!--Body-->
        <section class="w-full">
          <hr class="line w-full mb-4">
          <ng-container
            *ngTemplateOutlet="optionalCardTemplate; context: { $implicit: slide }">
          </ng-container>
          <hr class="line w-full my-4">
        </section>
        <!--Buttons-->
        <section class="action-button-container w-full flex justify-between">
          <button
            class="action-button {{rightButtonClass}} flex justify-center items-center gap-2">
            {{ rightActionButtonTitle }}
          </button>
          <button class="action-button flex justify-center items-center gap-2"
                  (click)="actionClick.emit(slide.id)">{{ actionButtonTitle }}
          </button>
        </section>
      </section>
    </swiper-slide>
  }
</ng-template>
